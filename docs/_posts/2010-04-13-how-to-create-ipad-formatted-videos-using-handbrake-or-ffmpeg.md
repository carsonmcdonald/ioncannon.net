---
layout: archive
status: publish
published: true
title: How to Create iPad Formatted Videos Using HandBrake or FFMpeg
#author:
  #display_name: carson
  #login: admin
  #email: mcdonaec@yahoo.com
  #url: http://ioncannon.net
#author_login: admin
#author_email: mcdonaec@yahoo.com
#author_url: http://ioncannon.net
wordpress_id: 1040
wordpress_url: http://www.ioncannon.net/?p=1040
date: '2010-04-13 05:56:19 -0400'
date_gmt: '2010-04-13 10:56:19 -0400'
categories:
- meta
tags:
- video
- ffmpeg
- ipad
- handbrake
comments:
- id: 168175
  author: Sean
  author_email: Majorasmask2k2@aol.com
  author_url: ''
  date: '2010-04-21 13:44:27 -0400'
  date_gmt: '2010-04-21 18:44:27 -0400'
  content: How do you import presets into hanbrake?
- id: 168256
  author: carson
  #author_email: mcdonaec@yahoo.com
  #author_url: http://ioncannon.net
  date: '2010-04-22 09:00:07 -0400'
  date_gmt: '2010-04-22 14:00:07 -0400'
  content: "@Sean on the main screen you should have an import button at the bottom
    right hand corner. It will be under your current set of profiles next to a trash
    button."
- id: 168410
  author: Ryan
  author_email: ryanbwolfe@yahoo.com
  author_url: ''
  date: '2010-04-23 22:33:18 -0400'
  date_gmt: '2010-04-24 03:33:18 -0400'
  content: Carson - I'm trying to put some of my DVDs I own onto my iPad 3G that will
    arrive this coming week. I downloaded your presets. I'm hoping to get the videos
    full screen on the ipad. Will the "ipad-full.plist" do just that? When I clicked
    into picture settings it showed the width at 640 and the height at 480. I thought
    the res on the ipad was like 1024 or something. I'm new at this whole ripping/converting
    stuff so try to bear with me. Thanks a bunch!
- id: 168461
  author: Mark
  author_email: markstout@gmail.com
  author_url: ''
  date: '2010-04-24 12:29:04 -0400'
  date_gmt: '2010-04-24 17:29:04 -0400'
  content: "I'm getting an error on the --partion portion of the FFMPEG command line.
    \ I suspect I have an older FFMPEG.  Can you direct me to an already compiled
    Windows executable?  I run Windows 7.\r\n\r\nThank you."
- id: 168497
  author: advil
  author_email: kvasir@gmail.com
  author_url: ''
  date: '2010-04-24 22:23:28 -0400'
  date_gmt: '2010-04-25 03:23:28 -0400'
  content: "just stopping by to tell you i love you for this. i'm using this to convert
    things from HD blu ray rips like Watchmen to old classics like Casablanca. it
    would have been a pain in the ass to do this manually for each one.\r\n\r\nwhen
    do you recommend using the 16:9 vs the \"full\" presets? i only used full on the
    HD blu ray rips and just 16:9 for regular widescreen films. is that right?"
- id: 168601
  author: carson
  #author_email: mcdonaec@yahoo.com
  #author_url: http://ioncannon.net
  date: '2010-04-26 19:59:50 -0400'
  date_gmt: '2010-04-27 00:59:50 -0400'
  content: I'm not familiar with the windows version of FFMpeg so I don't know where
    to get an up to date binary. If you find one drop back by and let others know.
- id: 168602
  author: carson
  #author_email: mcdonaec@yahoo.com
  #author_url: http://ioncannon.net
  date: '2010-04-26 20:02:07 -0400'
  date_gmt: '2010-04-27 01:02:07 -0400'
  content: The full profile will get you the full resolution. Full screen will be
    different depending on the format of your movie. You probably want to load up
    one of the presets and then tinker with the size to get it right.
- id: 168650
  author: Larry Gilman
  author_email: lgilman@myfairpoint.net
  author_url: http://www.larrygilman.net
  date: '2010-04-27 08:16:17 -0400'
  date_gmt: '2010-04-27 13:16:17 -0400'
  content: "I try downloading iPad-Full.plist using \"save as\"; it appears on my
    desktop as iPad-Full.plist.xml.  When I import it into HandBrake it appears in
    the preset list but not in blue text like the built-ins, but in black.  If I select
    it, nothing happens.   Picture Settings does now show any change.  It seems to
    be inactive.  Deleting the .xml extension - no difference.  \r\n\r\nAdvice?\r\n\r\nMany
    thanks --\r\n\r\nLarry"
- id: 168651
  author: Larry Gilman
  author_email: lgilman@myfairpoint.net
  author_url: http://www.larrygilman.net
  date: '2010-04-27 08:16:49 -0400'
  date_gmt: '2010-04-27 13:16:49 -0400'
  content: PS.  I am using a recent-vintage iMac.
- id: 169536
  author: Jed Teres
  author_email: jed@vitamin-j.com
  author_url: ''
  date: '2010-05-08 14:38:39 -0400'
  date_gmt: '2010-05-08 19:38:39 -0400'
  content: I set Handbrake to de-interlace, but now when I try to use one of your
    settings, it crashes. Prior to that, i wasn't seeing much of a difference in settings
    when switching between the three of them; perhaps I wasn't looking in the right
    place? That said, things seemed to turn out OK without de-interlacing.
- id: 169545
  author: Kenny Mann
  author_email: kenny.mann.mal@gmail.com
  author_url: ''
  date: '2010-05-08 17:04:34 -0400'
  date_gmt: '2010-05-08 22:04:34 -0400'
  content: "Thank you.\r\n\r\nThroughput with iPad-Full.plist works on every video
    format I've tried, regardless of original picture size or aspect ratio. Results
    just fit the full screen with the best image available from the data in the original
    file. iPad-ready in two clicks.\r\n\r\nBTW: People running non-current versions
    of Handbrake won't be happy trying to import the presets. Easiest access requires
    version 0.9.4."
- id: 169730
  author: Frank Leers
  author_email: fleers@gmail.com
  author_url: ''
  date: '2010-05-12 16:18:05 -0400'
  date_gmt: '2010-05-12 21:18:05 -0400'
  content: "The ffmpeg options seem to be off.\r\n\r\nffmpeg -fpre ipadfull.ffpreset
    -s 1024X768 -r 30 -async 2 -aspect 16:9 -i foo.mpg foo2.mpg\r\nWhere my preset
    file (ipadfull.ffpreset) contains:\r\nacodec=aac\r\nar=48000\r\nab=128k\r\nac=2\r\nvcodec=libx264\r\n#vcodec=ipod\r\n#vcodec=h264\r\nb=1200k\r\nflags=+loop+mv4\r\ncmp=256\r\npartitions=+parti4x4+partp8x8+partb8x8\r\nsubq=7\r\ntrellis=1\r\nrefs=5\r\ncoder=0\r\nme_range=16\r\nkeyint_min=25\r\nsc_threshold=40\r\ni_qfactor=0.71\r\nbt=1200k\r\nmaxrate=1200k\r\nbufsize=1200k\r\nrc_eq='blurCplx^(1-qComp)'\r\nqcomp=0.6\r\nqmin=10\r\nqmax=51\r\nqdiff=4\r\nlevel=30\r\n#aspect=16:9\r\n#r=30\r\ng=90\r\n\r\ngives:\r\n\r\nFFmpeg
    version git-08a083b, Copyright (c) 2000-2010 the FFmpeg developers\r\n  built
    on May 12 2010 12:23:51 with gcc 4.4.1\r\n  configuration: --prefix=/usr/local
    --enable-avfilter --enable-avfilter-lavf --enable-vdpau --enable-bzlib --enable-libgsm
    --enable-libschroedinger --enable-libspeex --enable-libtheora --enable-libvorbis
    --enable-pthreads --enable-zlib --disable-stripping --enable-gpl --enable-postproc
    --enable-swscale --enable-x11grab --enable-libdc1394 --enable-shared --disable-static
    --enable-libfaac --enable-nonfree --enable-libx264\r\n  libavutil     50.15. 2
    / 50.15. 2\r\n  libavcodec    52.67. 0 / 52.67. 0\r\n  libavformat   52.62. 0
    / 52.62. 0\r\n  libavdevice   52. 2. 0 / 52. 2. 0\r\n  libavfilter    1.20. 0
    /  1.20. 0\r\n  libswscale     0.10. 0 /  0.10. 0\r\n  libpostproc   51. 2. 0
    / 51. 2. 0\r\nUnknown decoder 'libx264'"
- id: 170913
  author: Fred
  author_email: fewalden@gmail.com
  author_url: ''
  date: '2010-05-28 15:23:46 -0400'
  date_gmt: '2010-05-28 20:23:46 -0400'
  content: "the iPadFull.plist download above is designated \"4&Atilde;&mdash;3 aspect
    ratio at 1024&Atilde;&mdash;576\".\r\n\r\nBut 1024x576 is 16:9, not 4:3, isn't
    it?\r\n\r\nOr is my math wrong somehow? Wouldn't be the first time...\r\n\r\nIn
    any case, thanks for posting the profiles. I imported them to Handbrake and they
    work seamlessly. I'm very impressed, and you've simplified my life enormously.
    For this, much thanks!"
- id: 171012
  author: Simon
  author_email: ntrweb@hotmail.com
  author_url: ''
  date: '2010-05-30 20:51:01 -0400'
  date_gmt: '2010-05-31 01:51:01 -0400'
  content: "Fred, It's funny - I sat here for a minute trying to figure that out...
    You're right.  Simple math eludes me now and then!  4x3 would be 1024 x 768.  Despite
    the math bits, these are great for starters.\r\n\r\nCarson, your post is much
    appreciated.  Thanks for putting up your plists, saved me some work!\r\n\r\nCheers,\r\n\r\nSimon"
- id: 171014
  author: Darren
  author_email: tnsai@tnsai.org
  author_url: ''
  date: '2010-05-30 22:40:32 -0400'
  date_gmt: '2010-05-31 03:40:32 -0400'
  content: "Hi,\r\n\r\nThanks for the presets, I was just wondering though, if you
    notice that the resulting video looks darker than the source material?\r\n\r\nRegards,\r\n\r\nDarren"
- id: 171831
  author: Trenton D. Adams
  author_email: trent@trentonadams.ca
  author_url: http://blog.adamsbros.org
  date: '2010-06-12 22:05:13 -0400'
  date_gmt: '2010-06-13 03:05:13 -0400'
  content: "The quality of the ffmpeg command given produces very poor quality video
    for an iPad.  I put \"-maxrate 10000k\" and remove the -qmin and -qmax, and add
    \"-g 250\"\r\n\r\np.s.\r\nFrank, I had the same problem as you, when using a preset
    file.  Namely \"Unknown decoder 'libx264'\".  I need to move the parameter for
    your preset file to after the input video file.  libx264 is an encoder, not a
    decoder, so it must come after the input file."
- id: 171833
  author: Trenton D. Adams
  author_email: trent@trentonadams.ca
  author_url: http://blog.adamsbros.org
  date: '2010-06-12 22:07:29 -0400'
  date_gmt: '2010-06-13 03:07:29 -0400'
  content: "Oh, by the way, here's my preset file...\r\n\r\n# /home/myuser/.ffmpeg/iPad.ffpreset\r\nthreads=4\r\nacodec=aac\r\nar=48000\r\nab=128k\r\nac=2\r\nvcodec=libx264\r\nb=1200k\r\nflags=+loop+mv4\r\ncmp=+chroma\r\npartitions=+parti4x4+partp8x8+partb8x8\r\nsubq=7\r\ntrellis=1\r\nrefs=5\r\ncoder=0\r\nme_range=16\r\nkeyint_min=25\r\nbt=256k\r\nmaxrate=10000k\r\nsc_threshold=40\r\ni_qfactor=0.71\r\nqdiff=4\r\nlevel=30\r\ng=250\r\n\r\nAnd
    I run...\r\nffmpeg -s 1024x768 -r 30 -async 2 -aspect 16:9 -y -i input.avi -spre
    iPad output-iPad.mp4"
- id: 171883
  author: saintdev
  author_email: saintdev@gmail.com
  author_url: ''
  date: '2010-06-13 21:36:26 -0400'
  date_gmt: '2010-06-14 02:36:26 -0400'
  content: For your ffmpeg command line, you should really change it from "-acodec
    aac" to "-acodec libfaac". The ffmpeg aac encoder is currently a bit broken, and
    will result in very poor audio quality. It's being worked on, but it will be a
    while before it is usable. FAAC does have license issues, but at least it's not
    broken.
- id: 172219
  author: Rich
  author_email: pugcity@cox.net
  author_url: ''
  date: '2010-06-18 19:34:04 -0400'
  date_gmt: '2010-06-19 00:34:04 -0400'
  content: "OK sorry to be so dumb\r\nI copied these presets to my desk top\r\nthen
    added a preset by using the add button at the bottom right.\r\ni then chose a
    .wmv file on my computer\r\nwhen I try and convert it, the wondow cmd.exe is launched
    and it reports something like 11 hours for a 30 minute video file.\r\nI am lost.
    what am i doing wrong?\r\nthanks"
- id: 173416
  author: charmie
  author_email: charmie_aira08@yahoo.com
  author_url: ''
  date: '2010-07-04 03:21:42 -0400'
  date_gmt: '2010-07-04 08:21:42 -0400'
  content: Why is it the result is not fullscreen? i download your ipad-full.plist
    but the result isnt full resolution on ipad?
- id: 176764
  author: michelle
  author_email: mnp914@yahoo.com
  author_url: ''
  date: '2010-07-25 17:47:03 -0400'
  date_gmt: '2010-07-25 22:47:03 -0400'
  content: i have vista with a  64bit OS - i used the ipad preset for full list.   i
    got as far as getting two  different movies into itunes, but they don't play correctly.  the
    picture is distorted into boxes as if its damaged.  can anyone tell me what i
    did wrong?
- id: 179846
  author: Arthur
  author_email: aceuk@msn.com
  author_url: ''
  date: '2010-08-15 23:42:13 -0400'
  date_gmt: '2010-08-16 04:42:13 -0400'
  content: "@Mark. You can download an up-to-date Windows executable for FFmpeg.exe
    from here...\r\n\r\nhttp://ffmpeg.arrozcru.org/autobuilds"
- id: 187674
  author: Rich
  author_email: admin@frugle.com
  author_url: ''
  date: '2010-10-29 19:23:58 -0400'
  date_gmt: '2010-10-30 00:23:58 -0400'
  content: Would these be the same FFMPG settings to do HTTP Live Streaming as demonstrated
    in your article for the iPhone.  That is this would be the high settings for the
    iPad.  I'm having trouble getting my app accepted due to these playlist variants
    (video and audio only).  Looking for a easier way to convert a bunch of videos
    at once to meet these requirements.
---

This is for those who may want to load a video onto their iPad with iTunes that isn't in the correct format. I needed to do this because I was trying to put an iTunes University video on my iPad a couple days ago and iTunes complained that it wasn't in the correct format for the iPad. I'm not sure exactly how that could be but I decided to take the opportunity to see if I could use <a href="http://handbrake.fr/">HandBrake</a> to easily convert it to an iPad friendly format. There is currently no pre-loaded iPad configuration for HandBrake like there is for the iPhone and iPod Touch so I created a few profiles that can easily be imported into HandBrake to output different sizes for the iPad:


<ul>
  <li><a href="/projects/ipadhandbrake/iPad-4x3.plist">iPad-4x3.plist</a> - A 4x3 aspect ratio at 640x480</li>
  <li><a href="/projects/ipadhandbrake/iPad-16x9.plist">iPad-16x9.plist</a> - A 16x9 aspect ratio at 640x360</li>
  <li><a href="/projects/ipadhandbrake/iPad-Full.plist">iPad-Full.plist</a> - A 4x3 aspect ratio at 1024x576</li>
</ul>

Note that when you import videos using iTunes the iPad puts them in their own Videos app unlike the iPhone where they show up under the iPod app. You will want to find the Videos icon if you don't already know where it is:


<a href="/assets/2010_04_Screenshot-iPad-Videos.jpg"><img src="/assets/2010_04_Screenshot-iPad-Videos.jpg" alt="iPad Videos Screenshot" title="iPad Videos Screenshot" width="300" height="163" class="alignnone size-medium wp-image-1043" /></a>


After verifying that the above 4&times;3 version worked for the iTunes University video, I went about testing it on a couple of other video formats. I tested the Big Buck Bunny video that I also used for my post on iPad video streaming in both 640&times;360 and 1024&times;576 output formats. Both resolutions looked great. In between these tests, I took a short break to play <a href="https://www.business2community.com/kr/gambling/casino-holdem-sites">?? ??</a>, which provided a nice distraction. I also tried converting a DVD. If you decide to convert a DVD, you will probably want to turn on de-interlacing in HandBrake. You do that by first selecting the &ldquo;Picture Settings&rdquo; option:


<a href="/assets/2010_04_Screenshot-HandBrake-PictureSettings.png"><img src="/assets/2010_04_Screenshot-HandBrake-PictureSettings.png" alt="HandBrake Picture Settings Screenshot" title="HandBrake Picture Settings Screenshot" width="300" height="81" class="alignnone size-medium wp-image-1042" /></a>


Then the filters tab and then select the type of de-interlace you want (fast, slow, slowest):


<a href="/assets/2010_04_Screenshot-HandBrake-DeInterlaceSettings.png"><img src="/assets/2010_04_Screenshot-HandBrake-DeInterlaceSettings.png" alt="HandBrake DeInterlace Settings Screenshot" title="HandBrake DeInterlace Settings Screenshot" width="300" height="103" class="alignnone size-medium wp-image-1041" /></a>


If you want to use FFMpeg to do all this you can. The following is a slightly modified version of the streaming command I'm using that will output a high bitrate version of the input video:


```
ffmpeg -y -i input.avi -acodec aac -ar 48000 -ab 128k -ac 2 -s 1024x768 -vcodec libx264 -b 1200k -flags +loop+mv4 -cmp 256 -partitions +parti4x4+partp8x8+partb8x8 -subq 7 -trellis 1 -refs 5 -coder 0 -me_range 16 -keyint_min 25 -sc_threshold 40 -i_qfactor 0.71 -bt 1200k -maxrate 1200k -bufsize 1200k -rc_eq 'blurCplx^(1-qComp)' -qcomp 0.6 -qmin 10 -qmax 51 -qdiff 4 -level 30 -aspect 16:9 -r 30 -g 90 -async 2 output.mp4
```
